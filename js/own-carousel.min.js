function debounce(fn,delay){let id=null;return function(args){clearTimeout(id),id=null,id=setTimeout((function(){fn.call(this,args)}),delay)}}function responsive(){let windowWidth=window.innerWidth,flag=!1,crsContainer=document.querySelectorAll(".own-carousel__container"),containerArray=Array.from(crsContainer);containerArray.forEach(item=>{for(let property in item.responsive)if(property>=windowWidth){item.itemPerRow=item.responsive[property][0],item.itemWidth=item.responsive[property][1],flag=!0;break}flag||(item.itemPerRow=item.itemPerRowBig,item.itemWidth=item.itemWidthBig),item.gapWidth=(100-item.itemPerRow*item.itemWidth)/(item.itemPerRow-1)||0,item.style.setProperty("--width",`${item.itemWidth}%`),item.style.setProperty("--margin",`${item.gapWidth}%`)}),containerArray.forEach(item=>{item.imgWidth=item.carouselItem[0].getBoundingClientRect().width,item.step=item.imgWidth+item.gapWidth/item.itemWidth*item.imgWidth,item.moveSlide(0)})}Object.prototype.ownCarousel=function(options){const{itemPerRow:itemPerRow=4,itemWidth:itemWidth=24,loop:loop=!0,responsive:responsive={},draggable:draggable=!0,mouseWheel:mouseWheel=!1,autoplay:autoplay=0,stopAutoplayWhenHover:stopAutoplayWhenHover=!0,nav:nav=!1,isRTL:isRTL=!1}=options;if(this.carousel=this.querySelector(".own-carousel"),this.carouselOuter=this.querySelector(".own-carousel__outer"),this.itemWidthBig=this.itemWidth=itemWidth,this.itemPerRowBig=this.itemPerRow=itemPerRow,this.responsive=responsive,this.gapWidth=(100-itemPerRow*itemWidth)/(itemPerRow-1)||0,this.style.setProperty("--width",`${itemWidth}%`),this.style.setProperty("--margin",`${this.gapWidth}%`),this.index=0,this.carouselItem=this.carousel.children,this.imgWidth=this.carouselItem[0].getBoundingClientRect().width,this.numberOfItem=this.carouselItem.length,this.step=this.imgWidth+this.gapWidth/this.itemWidth*this.imgWidth,this.stepToMoveAutoplay=isRTL?-1:1,loop){this.index=itemPerRow,this.carousel.style.transform=`translate3d(${-this.index*this.step}px,0,0)`;for(let i=0;i<this.itemPerRow;i++){let cloneNode=this.carouselItem[i].cloneNode(!0);this.carousel.insertAdjacentElement("beforeend",cloneNode)}let count=0;for(;count!=this.itemPerRow;){let cloneNode=this.carouselItem[this.numberOfItem-1].cloneNode(!0);this.carousel.insertAdjacentElement("afterbegin",cloneNode),count++}}if(this.translateSlide=()=>{this.carousel.style.transform=`translate3d(${-this.index*this.step}px,0,0)`},this.resetSlide=step=>{this.index+step<1&&(this.index=this.numberOfItem+1),this.index+step>=this.numberOfItem+this.itemPerRow&&(this.index=this.itemPerRow-1),this.carousel.style.transition="none",this.translateSlide(),setTimeout(()=>{this.carousel.style.transition="all 0.25s",this.index+=step,this.translateSlide()},20)},this.moveSlide=step=>{if(this.carousel.style.transition="all 0.25s",loop)this.index+step<1||this.index+step>=this.numberOfItem+this.itemPerRow?this.resetSlide(step):(this.index+=step,this.translateSlide());else{if(this.index+step<0||this.index+step>this.numberOfItem-this.itemPerRow)return;this.index+=step,this.translateSlide()}},nav&&(this.querySelector(".control__prev").addEventListener("click",()=>{this.moveSlide(-1)}),this.querySelector(".control__next").addEventListener("click",()=>{this.moveSlide(1)})),draggable){let firstPos=currentPos=0,dragStartHandle=e=>{this.carousel.style.transition="none","touchstart"===e.type?(currentPos=e.touches[0].clientX,document.addEventListener("touchmove",dragHandle),document.addEventListener("touchend",dragEndHandle)):(this.carouselOuter.style.cursor="grab",currentPos=e.clientX,document.addEventListener("mousemove",dragHandle),document.addEventListener("mouseup",dragEndHandle)),firstPos=currentPos,autoplay&&(clearInterval(intervalId),clearTimeout(timeoutId))},dragHandle=e=>{let currentMove=parseFloat(this.carousel.style.transform.slice(12)),currentIndex=-currentMove/this.step,x="touchmove"===e.type?e.touches[0].clientX:e.clientX,distanceMoved=x-currentPos;loop?currentIndex<=0?(this.index=this.numberOfItem,this.translateSlide()):currentIndex>=this.numberOfItem+this.itemPerRow?(this.index=this.itemPerRow,this.translateSlide()):this.carousel.style.transform=`translate3d(${currentMove+distanceMoved}px,0,0)`:currentIndex<0||currentIndex>this.numberOfItem-this.itemPerRow?this.carousel.style.transform=`translate3d(${currentMove+distanceMoved/5}px,0,0)`:this.carousel.style.transform=`translate3d(${currentMove+distanceMoved}px,0,0)`,currentPos=x};this.checkIndex=currentMove=>{let temp=currentMove;for(;temp>=this.step;)temp-=this.step;return temp>50&&firstPos-currentPos>=0||this.step-temp<50&&firstPos-currentPos<=0?Math.ceil(currentMove/this.step):Math.floor(currentMove/this.step)};let dragEndHandle=e=>{"touchend"===e.type?(document.removeEventListener("touchmove",dragHandle),document.removeEventListener("touchend",dragEndHandle)):(document.removeEventListener("mousemove",dragHandle),document.removeEventListener("mouseup",dragEndHandle),this.carouselOuter.style.cursor="auto");let currentMove=parseFloat(this.carousel.style.transform.slice(12));this.index=this.checkIndex(-currentMove),loop||(this.index>this.numberOfItem-this.itemPerRow&&(this.index=this.numberOfItem-this.itemPerRow),this.index<0&&(this.index=0)),this.carousel.style.transition="all 0.25s",this.translateSlide(),autoplay&&(clearInterval(intervalId),clearTimeout(timeoutId),timeoutId=setTimeout(()=>{intervalId=setInterval(this.moveSlide,autoplay,this.stepToMoveAutoplay)},2e3))};this.carouselOuter.addEventListener("mousedown",dragStartHandle),this.carouselOuter.addEventListener("touchstart",dragStartHandle)}let intervalId,timeoutId;mouseWheel&&this.carouselOuter.addEventListener("wheel",e=>{e.preventDefault(),e.deltaY>0?this.moveSlide(-1):this.moveSlide(1)}),autoplay&&(timeoutId=setTimeout(()=>{intervalId=setInterval(this.moveSlide,autoplay,this.stepToMoveAutoplay)},3e3),stopAutoplayWhenHover&&(this.carouselOuter.addEventListener("mouseenter",()=>{clearTimeout(timeoutId),clearInterval(intervalId)}),this.carouselOuter.addEventListener("mouseleave",()=>{clearInterval(intervalId),clearTimeout(timeoutId),timeoutId=setTimeout(()=>{intervalId=setInterval(this.moveSlide,autoplay,this.stepToMoveAutoplay)},2e3)})))},window.addEventListener("resize",debounce(responsive,500));